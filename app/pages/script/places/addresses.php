<?
include("../!bootstrap.php");
set_time_limit(0);
$userId = 5;


$old_table = "places_old";
$places_streets_ids = unserialize('a:403:{i:1;a:2:{s:6:"old_id";s:1:"1";s:9:"street_id";i:447;}i:2;a:2:{s:6:"old_id";s:2:"31";s:9:"street_id";s:3:"793";}i:3;a:2:{s:6:"old_id";s:2:"32";s:9:"street_id";i:948;}i:4;a:2:{s:6:"old_id";s:2:"12";s:9:"street_id";i:948;}i:5;a:2:{s:6:"old_id";s:2:"18";s:9:"street_id";s:3:"793";}i:6;a:2:{s:6:"old_id";s:2:"19";s:9:"street_id";s:3:"764";}i:7;a:2:{s:6:"old_id";s:3:"309";s:9:"street_id";i:85;}i:8;a:2:{s:6:"old_id";s:3:"124";s:9:"street_id";i:111;}i:9;a:2:{s:6:"old_id";s:2:"34";s:9:"street_id";i:525;}i:10;a:2:{s:6:"old_id";s:2:"38";s:9:"street_id";i:111;}i:11;a:2:{s:6:"old_id";s:2:"39";s:9:"street_id";s:3:"110";}i:12;a:2:{s:6:"old_id";s:2:"40";s:9:"street_id";s:3:"100";}i:13;a:2:{s:6:"old_id";s:2:"41";s:9:"street_id";s:3:"106";}i:14;a:2:{s:6:"old_id";s:2:"42";s:9:"street_id";s:3:"105";}i:15;a:2:{s:6:"old_id";s:2:"43";s:9:"street_id";s:3:"386";}i:16;a:2:{s:6:"old_id";s:2:"44";s:9:"street_id";s:3:"793";}i:17;a:2:{s:6:"old_id";s:2:"45";s:9:"street_id";s:2:"77";}i:18;a:2:{s:6:"old_id";s:3:"128";s:9:"street_id";s:3:"110";}i:19;a:2:{s:6:"old_id";s:3:"129";s:9:"street_id";i:85;}i:20;a:2:{s:6:"old_id";s:3:"130";s:9:"street_id";s:3:"101";}i:21;a:2:{s:6:"old_id";s:2:"46";s:9:"street_id";s:3:"286";}i:22;a:2:{s:6:"old_id";s:2:"47";s:9:"street_id";s:2:"77";}i:23;a:2:{s:6:"old_id";s:2:"48";s:9:"street_id";i:143;}i:24;a:2:{s:6:"old_id";s:2:"49";s:9:"street_id";s:3:"666";}i:25;a:2:{s:6:"old_id";s:2:"50";s:9:"street_id";s:3:"110";}i:26;a:2:{s:6:"old_id";s:2:"61";s:9:"street_id";s:3:"666";}i:27;a:2:{s:6:"old_id";s:2:"62";s:9:"street_id";s:2:"77";}i:28;a:2:{s:6:"old_id";s:2:"63";s:9:"street_id";s:2:"77";}i:29;a:2:{s:6:"old_id";s:2:"64";s:9:"street_id";s:2:"77";}i:30;a:2:{s:6:"old_id";s:2:"65";s:9:"street_id";s:3:"110";}i:31;a:2:{s:6:"old_id";s:2:"66";s:9:"street_id";i:103;}i:32;a:2:{s:6:"old_id";s:2:"67";s:9:"street_id";i:616;}i:33;a:2:{s:6:"old_id";s:2:"79";s:9:"street_id";i:458;}i:34;a:2:{s:6:"old_id";s:2:"69";s:9:"street_id";i:458;}i:35;a:2:{s:6:"old_id";s:2:"70";s:9:"street_id";s:3:"110";}i:36;a:2:{s:6:"old_id";s:2:"71";s:9:"street_id";s:3:"110";}i:37;a:2:{s:6:"old_id";s:2:"72";s:9:"street_id";s:3:"551";}i:38;a:2:{s:6:"old_id";s:2:"73";s:9:"street_id";s:3:"110";}i:39;a:2:{s:6:"old_id";s:2:"74";s:9:"street_id";s:3:"666";}i:40;a:2:{s:6:"old_id";s:2:"75";s:9:"street_id";i:85;}i:41;a:2:{s:6:"old_id";s:2:"76";s:9:"street_id";s:2:"44";}i:42;a:2:{s:6:"old_id";s:2:"77";s:9:"street_id";i:616;}i:43;a:2:{s:6:"old_id";s:2:"78";s:9:"street_id";i:616;}i:44;a:2:{s:6:"old_id";s:2:"80";s:9:"street_id";i:458;}i:45;a:2:{s:6:"old_id";s:2:"81";s:9:"street_id";s:3:"666";}i:46;a:2:{s:6:"old_id";s:2:"82";s:9:"street_id";s:3:"666";}i:47;a:2:{s:6:"old_id";s:2:"83";s:9:"street_id";s:3:"666";}i:48;a:2:{s:6:"old_id";s:2:"84";s:9:"street_id";s:3:"386";}i:49;a:2:{s:6:"old_id";s:2:"85";s:9:"street_id";s:3:"842";}i:50;a:2:{s:6:"old_id";s:2:"86";s:9:"street_id";s:3:"386";}i:51;a:2:{s:6:"old_id";s:2:"87";s:9:"street_id";s:2:"76";}i:52;a:2:{s:6:"old_id";s:2:"88";s:9:"street_id";s:3:"897";}i:53;a:2:{s:6:"old_id";s:2:"89";s:9:"street_id";i:616;}i:54;a:2:{s:6:"old_id";s:2:"90";s:9:"street_id";i:223;}i:55;a:2:{s:6:"old_id";s:2:"91";s:9:"street_id";s:2:"93";}i:56;a:2:{s:6:"old_id";s:2:"92";s:9:"street_id";i:831;}i:57;a:2:{s:6:"old_id";s:2:"93";s:9:"street_id";s:3:"793";}i:58;a:2:{s:6:"old_id";s:2:"94";s:9:"street_id";s:3:"793";}i:59;a:2:{s:6:"old_id";s:2:"95";s:9:"street_id";s:3:"793";}i:60;a:2:{s:6:"old_id";s:2:"96";s:9:"street_id";s:3:"286";}i:61;a:2:{s:6:"old_id";s:2:"97";s:9:"street_id";i:219;}i:62;a:2:{s:6:"old_id";s:2:"98";s:9:"street_id";s:3:"110";}i:63;a:2:{s:6:"old_id";s:2:"99";s:9:"street_id";s:3:"551";}i:64;a:2:{s:6:"old_id";s:3:"100";s:9:"street_id";s:3:"959";}i:65;a:2:{s:6:"old_id";s:3:"101";s:9:"street_id";s:2:"93";}i:66;a:2:{s:6:"old_id";s:3:"102";s:9:"street_id";i:515;}i:67;a:2:{s:6:"old_id";s:3:"166";s:9:"street_id";s:3:"692";}i:68;a:2:{s:6:"old_id";s:3:"167";s:9:"street_id";i:616;}i:69;a:2:{s:6:"old_id";s:3:"108";s:9:"street_id";i:540;}i:70;a:2:{s:6:"old_id";s:3:"109";s:9:"street_id";s:3:"110";}i:71;a:2:{s:6:"old_id";s:3:"110";s:9:"street_id";s:3:"110";}i:72;a:2:{s:6:"old_id";s:3:"111";s:9:"street_id";i:616;}i:73;a:2:{s:6:"old_id";s:3:"112";s:9:"street_id";i:948;}i:74;a:2:{s:6:"old_id";s:3:"113";s:9:"street_id";i:529;}i:75;a:2:{s:6:"old_id";s:3:"114";s:9:"street_id";s:3:"100";}i:76;a:2:{s:6:"old_id";s:3:"115";s:9:"street_id";s:2:"77";}i:77;a:2:{s:6:"old_id";s:3:"116";s:9:"street_id";s:3:"611";}i:78;a:2:{s:6:"old_id";s:3:"117";s:9:"street_id";i:461;}i:79;a:2:{s:6:"old_id";s:3:"118";s:9:"street_id";i:616;}i:80;a:2:{s:6:"old_id";s:3:"122";s:9:"street_id";i:447;}i:81;a:2:{s:6:"old_id";s:3:"121";s:9:"street_id";s:2:"76";}i:82;a:2:{s:6:"old_id";s:3:"126";s:9:"street_id";s:3:"106";}i:83;a:2:{s:6:"old_id";s:3:"123";s:9:"street_id";i:143;}i:84;a:2:{s:6:"old_id";s:3:"125";s:9:"street_id";i:111;}i:85;a:2:{s:6:"old_id";s:3:"131";s:9:"street_id";i:85;}i:86;a:2:{s:6:"old_id";s:3:"132";s:9:"street_id";s:2:"88";}i:87;a:2:{s:6:"old_id";s:3:"133";s:9:"street_id";s:2:"88";}i:88;a:2:{s:6:"old_id";s:3:"134";s:9:"street_id";s:2:"88";}i:89;a:2:{s:6:"old_id";s:3:"135";s:9:"street_id";i:567;}i:90;a:2:{s:6:"old_id";s:3:"136";s:9:"street_id";s:3:"793";}i:91;a:2:{s:6:"old_id";s:3:"137";s:9:"street_id";s:3:"793";}i:92;a:2:{s:6:"old_id";s:3:"138";s:9:"street_id";s:3:"793";}i:93;a:2:{s:6:"old_id";s:3:"139";s:9:"street_id";s:3:"793";}i:94;a:2:{s:6:"old_id";s:3:"141";s:9:"street_id";i:751;}i:95;a:2:{s:6:"old_id";s:3:"142";s:9:"street_id";s:3:"386";}i:96;a:2:{s:6:"old_id";s:3:"143";s:9:"street_id";s:3:"106";}i:97;a:2:{s:6:"old_id";s:3:"144";s:9:"street_id";s:3:"286";}i:98;a:2:{s:6:"old_id";s:3:"145";s:9:"street_id";i:927;}i:99;a:2:{s:6:"old_id";s:3:"146";s:9:"street_id";i:927;}i:100;a:2:{s:6:"old_id";s:3:"147";s:9:"street_id";s:3:"764";}i:101;a:2:{s:6:"old_id";s:3:"148";s:9:"street_id";i:85;}i:102;a:2:{s:6:"old_id";s:3:"149";s:9:"street_id";s:3:"764";}i:103;a:2:{s:6:"old_id";s:3:"150";s:9:"street_id";s:3:"611";}i:104;a:2:{s:6:"old_id";s:3:"151";s:9:"street_id";s:3:"611";}i:105;a:2:{s:6:"old_id";s:3:"152";s:9:"street_id";i:831;}i:106;a:2:{s:6:"old_id";s:3:"153";s:9:"street_id";s:3:"611";}i:107;a:2:{s:6:"old_id";s:3:"154";s:9:"street_id";i:927;}i:108;a:2:{s:6:"old_id";s:3:"157";s:9:"street_id";i:744;}i:109;a:2:{s:6:"old_id";s:3:"158";s:9:"street_id";i:990;}i:110;a:2:{s:6:"old_id";s:3:"159";s:9:"street_id";i:207;}i:111;a:2:{s:6:"old_id";s:3:"160";s:9:"street_id";s:3:"551";}i:112;a:2:{s:6:"old_id";s:3:"161";s:9:"street_id";s:3:"793";}i:113;a:2:{s:6:"old_id";s:3:"162";s:9:"street_id";s:3:"959";}i:114;a:2:{s:6:"old_id";s:3:"163";s:9:"street_id";i:811;}i:115;a:2:{s:6:"old_id";s:3:"164";s:9:"street_id";s:3:"793";}i:116;a:2:{s:6:"old_id";s:3:"165";s:9:"street_id";s:3:"106";}i:117;a:2:{s:6:"old_id";s:3:"168";s:9:"street_id";s:3:"692";}i:118;a:2:{s:6:"old_id";s:3:"169";s:9:"street_id";s:2:"77";}i:119;a:2:{s:6:"old_id";s:3:"170";s:9:"street_id";s:3:"551";}i:120;a:2:{s:6:"old_id";s:3:"171";s:9:"street_id";i:83;}i:121;a:2:{s:6:"old_id";s:3:"172";s:9:"street_id";s:2:"95";}i:122;a:2:{s:6:"old_id";s:3:"173";s:9:"street_id";s:3:"298";}i:123;a:2:{s:6:"old_id";s:3:"174";s:9:"street_id";s:3:"453";}i:124;a:2:{s:6:"old_id";s:3:"175";s:9:"street_id";s:3:"666";}i:125;a:2:{s:6:"old_id";s:3:"176";s:9:"street_id";i:219;}i:126;a:2:{s:6:"old_id";s:3:"177";s:9:"street_id";s:3:"298";}i:127;a:2:{s:6:"old_id";s:3:"178";s:9:"street_id";s:2:"78";}i:128;a:2:{s:6:"old_id";s:3:"179";s:9:"street_id";s:3:"298";}i:129;a:2:{s:6:"old_id";s:3:"180";s:9:"street_id";i:780;}i:130;a:2:{s:6:"old_id";s:3:"181";s:9:"street_id";i:83;}i:131;a:2:{s:6:"old_id";s:3:"182";s:9:"street_id";i:83;}i:132;a:2:{s:6:"old_id";s:3:"183";s:9:"street_id";s:3:"619";}i:133;a:2:{s:6:"old_id";s:3:"184";s:9:"street_id";i:143;}i:134;a:2:{s:6:"old_id";s:3:"185";s:9:"street_id";i:375;}i:135;a:2:{s:6:"old_id";s:3:"186";s:9:"street_id";s:3:"619";}i:136;a:2:{s:6:"old_id";s:3:"187";s:9:"street_id";i:443;}i:137;a:2:{s:6:"old_id";s:3:"188";s:9:"street_id";s:3:"342";}i:138;a:2:{s:6:"old_id";s:3:"189";s:9:"street_id";i:744;}i:139;a:2:{s:6:"old_id";s:3:"229";s:9:"street_id";i:458;}i:140;a:2:{s:6:"old_id";s:3:"191";s:9:"street_id";s:3:"890";}i:141;a:2:{s:6:"old_id";s:3:"192";s:9:"street_id";s:3:"110";}i:142;a:2:{s:6:"old_id";s:3:"193";s:9:"street_id";s:3:"551";}i:143;a:2:{s:6:"old_id";s:3:"195";s:9:"street_id";s:3:"347";}i:144;a:2:{s:6:"old_id";s:3:"196";s:9:"street_id";s:2:"93";}i:145;a:2:{s:6:"old_id";s:3:"197";s:9:"street_id";s:2:"79";}i:146;a:2:{s:6:"old_id";s:3:"198";s:9:"street_id";s:2:"77";}i:147;a:2:{s:6:"old_id";s:3:"199";s:9:"street_id";s:3:"764";}i:148;a:2:{s:6:"old_id";s:3:"200";s:9:"street_id";i:217;}i:149;a:2:{s:6:"old_id";s:3:"201";s:9:"street_id";s:3:"828";}i:150;a:2:{s:6:"old_id";s:3:"202";s:9:"street_id";i:616;}i:151;a:2:{s:6:"old_id";s:3:"203";s:9:"street_id";i:424;}i:152;a:2:{s:6:"old_id";s:3:"204";s:9:"street_id";i:525;}i:153;a:2:{s:6:"old_id";s:3:"230";s:9:"street_id";i:927;}i:154;a:2:{s:6:"old_id";s:3:"209";s:9:"street_id";i:616;}i:155;a:2:{s:6:"old_id";s:3:"210";s:9:"street_id";s:2:"31";}i:156;a:2:{s:6:"old_id";s:3:"212";s:9:"street_id";i:219;}i:157;a:2:{s:6:"old_id";s:3:"213";s:9:"street_id";i:811;}i:158;a:2:{s:6:"old_id";s:3:"214";s:9:"street_id";i:85;}i:159;a:2:{s:6:"old_id";s:3:"216";s:9:"street_id";i:495;}i:160;a:2:{s:6:"old_id";s:3:"217";s:9:"street_id";i:304;}i:161;a:2:{s:6:"old_id";s:3:"218";s:9:"street_id";s:3:"110";}i:162;a:2:{s:6:"old_id";s:3:"219";s:9:"street_id";s:3:"764";}i:163;a:2:{s:6:"old_id";s:3:"220";s:9:"street_id";s:3:"286";}i:164;a:2:{s:6:"old_id";s:3:"221";s:9:"street_id";s:3:"752";}i:165;a:2:{s:6:"old_id";s:3:"305";s:9:"street_id";s:2:"93";}i:166;a:2:{s:6:"old_id";s:3:"222";s:9:"street_id";s:3:"401";}i:167;a:2:{s:6:"old_id";s:3:"223";s:9:"street_id";s:2:"93";}i:168;a:2:{s:6:"old_id";s:3:"231";s:9:"street_id";s:3:"286";}i:169;a:2:{s:6:"old_id";s:3:"232";s:9:"street_id";s:3:"530";}i:170;a:2:{s:6:"old_id";s:3:"233";s:9:"street_id";s:2:"64";}i:171;a:2:{s:6:"old_id";s:3:"234";s:9:"street_id";s:3:"551";}i:172;a:2:{s:6:"old_id";s:3:"235";s:9:"street_id";s:3:"110";}i:173;a:2:{s:6:"old_id";s:3:"236";s:9:"street_id";s:3:"106";}i:174;a:2:{s:6:"old_id";s:3:"237";s:9:"street_id";s:3:"373";}i:175;a:2:{s:6:"old_id";s:3:"238";s:9:"street_id";s:3:"959";}i:176;a:2:{s:6:"old_id";s:3:"244";s:9:"street_id";s:2:"77";}i:177;a:2:{s:6:"old_id";s:3:"245";s:9:"street_id";i:85;}i:178;a:2:{s:6:"old_id";s:3:"246";s:9:"street_id";s:2:"77";}i:179;a:2:{s:6:"old_id";s:3:"248";s:9:"street_id";s:3:"793";}i:180;a:2:{s:6:"old_id";s:3:"249";s:9:"street_id";s:3:"110";}i:181;a:2:{s:6:"old_id";s:3:"250";s:9:"street_id";s:2:"77";}i:182;a:2:{s:6:"old_id";s:3:"251";s:9:"street_id";i:744;}i:183;a:2:{s:6:"old_id";s:3:"252";s:9:"street_id";i:376;}i:184;a:2:{s:6:"old_id";s:3:"253";s:9:"street_id";i:948;}i:185;a:2:{s:6:"old_id";s:3:"254";s:9:"street_id";i:308;}i:186;a:2:{s:6:"old_id";s:3:"255";s:9:"street_id";s:2:"77";}i:187;a:2:{s:6:"old_id";s:3:"256";s:9:"street_id";s:2:"76";}i:188;a:2:{s:6:"old_id";s:3:"257";s:9:"street_id";i:616;}i:189;a:2:{s:6:"old_id";s:3:"258";s:9:"street_id";s:3:"843";}i:190;a:2:{s:6:"old_id";s:3:"259";s:9:"street_id";i:616;}i:191;a:2:{s:6:"old_id";s:3:"260";s:9:"street_id";i:851;}i:192;a:2:{s:6:"old_id";s:3:"261";s:9:"street_id";i:85;}i:193;a:2:{s:6:"old_id";s:3:"262";s:9:"street_id";s:3:"386";}i:194;a:2:{s:6:"old_id";s:3:"263";s:9:"street_id";s:3:"842";}i:195;a:2:{s:6:"old_id";s:3:"264";s:9:"street_id";s:3:"506";}i:196;a:2:{s:6:"old_id";s:3:"265";s:9:"street_id";s:3:"936";}i:197;a:2:{s:6:"old_id";s:3:"266";s:9:"street_id";s:3:"110";}i:198;a:2:{s:6:"old_id";s:3:"267";s:9:"street_id";s:3:"310";}i:199;a:2:{s:6:"old_id";s:3:"268";s:9:"street_id";s:3:"347";}i:200;a:2:{s:6:"old_id";s:3:"269";s:9:"street_id";s:3:"100";}i:201;a:2:{s:6:"old_id";s:3:"270";s:9:"street_id";s:3:"110";}i:202;a:2:{s:6:"old_id";s:3:"271";s:9:"street_id";s:3:"181";}i:203;a:2:{s:6:"old_id";s:3:"272";s:9:"street_id";i:84;}i:204;a:2:{s:6:"old_id";s:3:"273";s:9:"street_id";s:3:"286";}i:205;a:2:{s:6:"old_id";s:3:"274";s:9:"street_id";s:3:"666";}i:206;a:2:{s:6:"old_id";s:3:"275";s:9:"street_id";i:616;}i:207;a:2:{s:6:"old_id";s:3:"276";s:9:"street_id";i:85;}i:208;a:2:{s:6:"old_id";s:3:"277";s:9:"street_id";s:3:"110";}i:209;a:2:{s:6:"old_id";s:3:"278";s:9:"street_id";i:515;}i:210;a:2:{s:6:"old_id";s:3:"279";s:9:"street_id";i:948;}i:211;a:2:{s:6:"old_id";s:3:"280";s:9:"street_id";i:851;}i:212;a:2:{s:6:"old_id";s:3:"281";s:9:"street_id";i:834;}i:213;a:2:{s:6:"old_id";s:3:"282";s:9:"street_id";s:2:"75";}i:214;a:2:{s:6:"old_id";s:3:"283";s:9:"street_id";s:3:"453";}i:215;a:2:{s:6:"old_id";s:3:"284";s:9:"street_id";s:2:"77";}i:216;a:2:{s:6:"old_id";s:3:"285";s:9:"street_id";i:948;}i:217;a:2:{s:6:"old_id";s:3:"306";s:9:"street_id";s:3:"692";}i:218;a:2:{s:6:"old_id";s:3:"287";s:9:"street_id";s:2:"88";}i:219;a:2:{s:6:"old_id";s:3:"290";s:9:"street_id";s:3:"738";}i:220;a:2:{s:6:"old_id";s:3:"291";s:9:"street_id";i:741;}i:221;a:2:{s:6:"old_id";s:3:"292";s:9:"street_id";i:143;}i:222;a:2:{s:6:"old_id";s:3:"293";s:9:"street_id";s:3:"623";}i:223;a:2:{s:6:"old_id";s:3:"294";s:9:"street_id";s:3:"793";}i:224;a:2:{s:6:"old_id";s:3:"298";s:9:"street_id";i:744;}i:225;a:2:{s:6:"old_id";s:3:"299";s:9:"street_id";i:223;}i:226;a:2:{s:6:"old_id";s:3:"300";s:9:"street_id";i:1005;}i:227;a:2:{s:6:"old_id";s:3:"303";s:9:"street_id";s:3:"386";}i:228;a:2:{s:6:"old_id";s:3:"304";s:9:"street_id";i:217;}i:229;a:2:{s:6:"old_id";s:3:"307";s:9:"street_id";i:1008;}i:230;a:2:{s:6:"old_id";s:3:"308";s:9:"street_id";i:948;}i:231;a:2:{s:6:"old_id";s:3:"310";s:9:"street_id";s:1:"1";}i:232;a:2:{s:6:"old_id";s:3:"313";s:9:"street_id";i:744;}i:233;a:2:{s:6:"old_id";s:3:"314";s:9:"street_id";i:111;}i:234;a:2:{s:6:"old_id";s:3:"315";s:9:"street_id";s:3:"787";}i:235;a:2:{s:6:"old_id";s:3:"316";s:9:"street_id";s:3:"100";}i:236;a:2:{s:6:"old_id";s:3:"317";s:9:"street_id";i:100;}i:237;a:2:{s:6:"old_id";s:3:"324";s:9:"street_id";i:495;}i:238;a:2:{s:6:"old_id";s:3:"323";s:9:"street_id";i:532;}i:239;a:2:{s:6:"old_id";s:3:"325";s:9:"street_id";s:3:"365";}i:240;a:2:{s:6:"old_id";s:3:"326";s:9:"street_id";s:3:"110";}i:241;a:2:{s:6:"old_id";s:3:"327";s:9:"street_id";i:111;}i:242;a:2:{s:6:"old_id";s:3:"328";s:9:"street_id";i:304;}i:243;a:2:{s:6:"old_id";s:3:"329";s:9:"street_id";s:3:"611";}i:244;a:2:{s:6:"old_id";s:3:"330";s:9:"street_id";i:143;}i:245;a:2:{s:6:"old_id";s:3:"331";s:9:"street_id";i:112;}i:246;a:2:{s:6:"old_id";s:3:"332";s:9:"street_id";i:751;}i:247;a:2:{s:6:"old_id";s:3:"333";s:9:"street_id";s:3:"110";}i:248;a:2:{s:6:"old_id";s:3:"334";s:9:"street_id";i:100;}i:249;a:2:{s:6:"old_id";s:3:"335";s:9:"street_id";i:616;}i:250;a:2:{s:6:"old_id";s:3:"336";s:9:"street_id";s:3:"816";}i:251;a:2:{s:6:"old_id";s:3:"337";s:9:"street_id";s:2:"77";}i:252;a:2:{s:6:"old_id";s:3:"338";s:9:"street_id";i:304;}i:253;a:2:{s:6:"old_id";s:3:"339";s:9:"street_id";s:3:"453";}i:254;a:2:{s:6:"old_id";s:3:"340";s:9:"street_id";i:85;}i:255;a:2:{s:6:"old_id";s:3:"341";s:9:"street_id";s:3:"100";}i:256;a:2:{s:6:"old_id";s:3:"342";s:9:"street_id";i:458;}i:257;a:2:{s:6:"old_id";s:3:"344";s:9:"street_id";s:3:"181";}i:258;a:2:{s:6:"old_id";s:3:"345";s:9:"street_id";i:532;}i:259;a:2:{s:6:"old_id";s:3:"346";s:9:"street_id";i:111;}i:260;a:2:{s:6:"old_id";s:3:"347";s:9:"street_id";i:532;}i:261;a:2:{s:6:"old_id";s:3:"348";s:9:"street_id";s:2:"93";}i:262;a:2:{s:6:"old_id";s:3:"349";s:9:"street_id";i:335;}i:263;a:2:{s:6:"old_id";s:3:"350";s:9:"street_id";s:3:"828";}i:264;a:2:{s:6:"old_id";s:3:"351";s:9:"street_id";i:948;}i:265;a:2:{s:6:"old_id";s:3:"352";s:9:"street_id";s:3:"644";}i:266;a:2:{s:6:"old_id";s:3:"353";s:9:"street_id";s:3:"828";}i:267;a:2:{s:6:"old_id";s:3:"354";s:9:"street_id";s:3:"365";}i:268;a:2:{s:6:"old_id";s:3:"355";s:9:"street_id";s:3:"480";}i:269;a:2:{s:6:"old_id";s:3:"356";s:9:"street_id";i:993;}i:270;a:2:{s:6:"old_id";s:3:"357";s:9:"street_id";s:3:"530";}i:271;a:2:{s:6:"old_id";s:3:"363";s:9:"street_id";i:458;}i:272;a:2:{s:6:"old_id";s:3:"359";s:9:"street_id";s:2:"76";}i:273;a:2:{s:6:"old_id";s:3:"360";s:9:"street_id";s:3:"401";}i:274;a:2:{s:6:"old_id";s:3:"361";s:9:"street_id";i:83;}i:275;a:2:{s:6:"old_id";s:3:"362";s:9:"street_id";i:927;}i:276;a:2:{s:6:"old_id";s:3:"364";s:9:"street_id";i:550;}i:277;a:2:{s:6:"old_id";s:3:"365";s:9:"street_id";s:2:"76";}i:278;a:2:{s:6:"old_id";s:3:"366";s:9:"street_id";s:2:"76";}i:279;a:2:{s:6:"old_id";s:3:"367";s:9:"street_id";i:429;}i:280;a:2:{s:6:"old_id";s:3:"368";s:9:"street_id";i:495;}i:281;a:2:{s:6:"old_id";s:3:"369";s:9:"street_id";i:744;}i:282;a:2:{s:6:"old_id";s:3:"370";s:9:"street_id";i:831;}i:283;a:2:{s:6:"old_id";s:3:"371";s:9:"street_id";i:744;}i:284;a:2:{s:6:"old_id";s:3:"372";s:9:"street_id";i:744;}i:285;a:2:{s:6:"old_id";s:3:"373";s:9:"street_id";i:744;}i:286;a:2:{s:6:"old_id";s:3:"374";s:9:"street_id";i:626;}i:287;a:2:{s:6:"old_id";s:3:"375";s:9:"street_id";s:3:"101";}i:288;a:2:{s:6:"old_id";s:3:"376";s:9:"street_id";i:626;}i:289;a:2:{s:6:"old_id";s:3:"377";s:9:"street_id";s:3:"100";}i:290;a:2:{s:6:"old_id";s:3:"378";s:9:"street_id";s:3:"110";}i:291;a:2:{s:6:"old_id";s:3:"379";s:9:"street_id";s:2:"93";}i:292;a:2:{s:6:"old_id";s:3:"380";s:9:"street_id";i:335;}i:293;a:2:{s:6:"old_id";s:3:"381";s:9:"street_id";i:76;}i:294;a:2:{s:6:"old_id";s:3:"382";s:9:"street_id";i:76;}i:295;a:2:{s:6:"old_id";s:3:"383";s:9:"street_id";s:3:"787";}i:296;a:2:{s:6:"old_id";s:3:"392";s:9:"street_id";s:3:"106";}i:297;a:2:{s:6:"old_id";s:3:"384";s:9:"street_id";s:2:"76";}i:298;a:2:{s:6:"old_id";s:3:"385";s:9:"street_id";i:995;}i:299;a:2:{s:6:"old_id";s:3:"386";s:9:"street_id";s:3:"787";}i:300;a:2:{s:6:"old_id";s:3:"387";s:9:"street_id";s:2:"78";}i:301;a:2:{s:6:"old_id";s:3:"388";s:9:"street_id";i:143;}i:302;a:2:{s:6:"old_id";s:3:"390";s:9:"street_id";s:3:"106";}i:303;a:2:{s:6:"old_id";s:3:"391";s:9:"street_id";s:2:"77";}i:304;a:2:{s:6:"old_id";s:3:"393";s:9:"street_id";i:461;}i:305;a:2:{s:6:"old_id";s:3:"394";s:9:"street_id";s:3:"105";}i:306;a:2:{s:6:"old_id";s:3:"395";s:9:"street_id";i:616;}i:307;a:2:{s:6:"old_id";s:3:"396";s:9:"street_id";i:616;}i:308;a:2:{s:6:"old_id";s:3:"397";s:9:"street_id";i:616;}i:309;a:2:{s:6:"old_id";s:3:"398";s:9:"street_id";i:616;}i:310;a:2:{s:6:"old_id";s:3:"399";s:9:"street_id";s:3:"611";}i:311;a:2:{s:6:"old_id";s:3:"400";s:9:"street_id";s:3:"611";}i:312;a:2:{s:6:"old_id";s:3:"401";s:9:"street_id";s:3:"611";}i:313;a:2:{s:6:"old_id";s:3:"402";s:9:"street_id";s:3:"890";}i:314;a:2:{s:6:"old_id";s:3:"403";s:9:"street_id";s:3:"666";}i:315;a:2:{s:6:"old_id";s:3:"404";s:9:"street_id";i:217;}i:316;a:2:{s:6:"old_id";s:3:"405";s:9:"street_id";i:217;}i:317;a:2:{s:6:"old_id";s:3:"406";s:9:"street_id";s:3:"386";}i:318;a:2:{s:6:"old_id";s:3:"407";s:9:"street_id";i:948;}i:319;a:2:{s:6:"old_id";s:3:"408";s:9:"street_id";s:3:"724";}i:320;a:2:{s:6:"old_id";s:3:"409";s:9:"street_id";i:81;}i:321;a:2:{s:6:"old_id";s:3:"410";s:9:"street_id";s:3:"724";}i:322;a:2:{s:6:"old_id";s:3:"411";s:9:"street_id";s:3:"322";}i:323;a:2:{s:6:"old_id";s:3:"412";s:9:"street_id";i:165;}i:324;a:2:{s:6:"old_id";s:3:"413";s:9:"street_id";i:948;}i:325;a:2:{s:6:"old_id";s:3:"414";s:9:"street_id";i:948;}i:326;a:2:{s:6:"old_id";s:3:"415";s:9:"street_id";i:948;}i:327;a:2:{s:6:"old_id";s:3:"416";s:9:"street_id";s:3:"738";}i:328;a:2:{s:6:"old_id";s:3:"417";s:9:"street_id";i:85;}i:329;a:2:{s:6:"old_id";s:3:"418";s:9:"street_id";i:85;}i:330;a:2:{s:6:"old_id";s:3:"419";s:9:"street_id";i:85;}i:331;a:2:{s:6:"old_id";s:3:"420";s:9:"street_id";i:85;}i:332;a:2:{s:6:"old_id";s:3:"421";s:9:"street_id";i:85;}i:333;a:2:{s:6:"old_id";s:3:"422";s:9:"street_id";i:85;}i:334;a:2:{s:6:"old_id";s:3:"423";s:9:"street_id";i:85;}i:335;a:2:{s:6:"old_id";s:3:"424";s:9:"street_id";i:85;}i:336;a:2:{s:6:"old_id";s:3:"425";s:9:"street_id";i:85;}i:337;a:2:{s:6:"old_id";s:3:"428";s:9:"street_id";i:447;}i:338;a:2:{s:6:"old_id";s:3:"429";s:9:"street_id";s:2:"77";}i:339;a:2:{s:6:"old_id";s:3:"430";s:9:"street_id";i:443;}i:340;a:2:{s:6:"old_id";s:3:"432";s:9:"street_id";i:301;}i:341;a:2:{s:6:"old_id";s:3:"435";s:9:"street_id";i:744;}i:342;a:2:{s:6:"old_id";s:3:"434";s:9:"street_id";s:3:"110";}i:343;a:2:{s:6:"old_id";s:3:"438";s:9:"street_id";s:3:"110";}i:344;a:2:{s:6:"old_id";s:3:"439";s:9:"street_id";s:3:"286";}i:345;a:2:{s:6:"old_id";s:3:"440";s:9:"street_id";i:495;}i:346;a:2:{s:6:"old_id";s:3:"441";s:9:"street_id";s:3:"101";}i:347;a:2:{s:6:"old_id";s:3:"442";s:9:"street_id";i:100;}i:348;a:2:{s:6:"old_id";s:3:"443";s:9:"street_id";i:990;}i:349;a:2:{s:6:"old_id";s:3:"444";s:9:"street_id";i:217;}i:350;a:2:{s:6:"old_id";s:3:"445";s:9:"street_id";s:2:"44";}i:351;a:2:{s:6:"old_id";s:3:"446";s:9:"street_id";s:3:"787";}i:352;a:2:{s:6:"old_id";s:3:"447";s:9:"street_id";i:85;}i:353;a:2:{s:6:"old_id";s:3:"449";s:9:"street_id";i:616;}i:354;a:2:{s:6:"old_id";s:3:"452";s:9:"street_id";i:525;}i:355;a:2:{s:6:"old_id";s:3:"453";s:9:"street_id";s:3:"100";}i:356;a:2:{s:6:"old_id";s:3:"455";s:9:"street_id";s:3:"110";}i:357;a:2:{s:6:"old_id";s:3:"456";s:9:"street_id";s:3:"793";}i:358;a:2:{s:6:"old_id";s:3:"458";s:9:"street_id";s:3:"551";}i:359;a:2:{s:6:"old_id";s:3:"459";s:9:"street_id";i:404;}i:360;a:2:{s:6:"old_id";s:3:"460";s:9:"street_id";s:3:"666";}i:361;a:2:{s:6:"old_id";s:3:"461";s:9:"street_id";s:2:"76";}i:362;a:2:{s:6:"old_id";s:3:"462";s:9:"street_id";i:461;}i:363;a:2:{s:6:"old_id";s:3:"463";s:9:"street_id";s:3:"110";}i:364;a:2:{s:6:"old_id";s:3:"464";s:9:"street_id";i:927;}i:365;a:2:{s:6:"old_id";s:3:"465";s:9:"street_id";s:2:"77";}i:366;a:2:{s:6:"old_id";s:3:"466";s:9:"street_id";i:495;}i:367;a:2:{s:6:"old_id";s:3:"467";s:9:"street_id";i:495;}i:368;a:2:{s:6:"old_id";s:3:"468";s:9:"street_id";i:495;}i:369;a:2:{s:6:"old_id";s:3:"469";s:9:"street_id";i:495;}i:370;a:2:{s:6:"old_id";s:3:"470";s:9:"street_id";i:495;}i:371;a:2:{s:6:"old_id";s:3:"471";s:9:"street_id";i:495;}i:372;a:2:{s:6:"old_id";s:3:"472";s:9:"street_id";s:3:"386";}i:373;a:2:{s:6:"old_id";s:3:"473";s:9:"street_id";s:3:"551";}i:374;a:2:{s:6:"old_id";s:3:"476";s:9:"street_id";s:3:"551";}i:375;a:2:{s:6:"old_id";s:3:"475";s:9:"street_id";s:2:"77";}i:376;a:2:{s:6:"old_id";s:3:"477";s:9:"street_id";s:2:"77";}i:377;a:2:{s:6:"old_id";s:3:"478";s:9:"street_id";i:532;}i:378;a:2:{s:6:"old_id";s:3:"479";s:9:"street_id";s:3:"611";}i:379;a:2:{s:6:"old_id";s:3:"480";s:9:"street_id";s:2:"77";}i:380;a:2:{s:6:"old_id";s:3:"481";s:9:"street_id";s:2:"77";}i:381;a:2:{s:6:"old_id";s:3:"482";s:9:"street_id";i:111;}i:382;a:2:{s:6:"old_id";s:3:"483";s:9:"street_id";i:316;}i:383;a:2:{s:6:"old_id";s:3:"484";s:9:"street_id";s:3:"890";}i:384;a:2:{s:6:"old_id";s:3:"485";s:9:"street_id";i:461;}i:385;a:2:{s:6:"old_id";s:3:"486";s:9:"street_id";s:1:"1";}i:386;a:2:{s:6:"old_id";s:3:"487";s:9:"street_id";i:515;}i:387;a:2:{s:6:"old_id";s:3:"488";s:9:"street_id";i:458;}i:388;a:2:{s:6:"old_id";s:3:"489";s:9:"street_id";i:515;}i:389;a:2:{s:6:"old_id";s:3:"490";s:9:"street_id";s:3:"110";}i:390;a:2:{s:6:"old_id";s:3:"491";s:9:"street_id";i:388;}i:391;a:2:{s:6:"old_id";s:3:"492";s:9:"street_id";s:3:"259";}i:392;a:2:{s:6:"old_id";s:3:"493";s:9:"street_id";i:831;}i:393;a:2:{s:6:"old_id";s:3:"494";s:9:"street_id";s:3:"787";}i:394;a:2:{s:6:"old_id";s:3:"495";s:9:"street_id";i:990;}i:395;a:2:{s:6:"old_id";s:3:"496";s:9:"street_id";i:525;}i:396;a:2:{s:6:"old_id";s:3:"497";s:9:"street_id";i:274;}i:397;a:2:{s:6:"old_id";s:3:"498";s:9:"street_id";i:81;}i:398;a:2:{s:6:"old_id";s:3:"499";s:9:"street_id";s:3:"551";}i:399;a:2:{s:6:"old_id";s:3:"500";s:9:"street_id";s:3:"493";}i:400;a:2:{s:6:"old_id";s:3:"501";s:9:"street_id";i:83;}i:401;a:2:{s:6:"old_id";s:3:"505";s:9:"street_id";s:3:"110";}i:402;a:2:{s:6:"old_id";s:3:"503";s:9:"street_id";i:85;}i:403;a:2:{s:6:"old_id";s:3:"504";s:9:"street_id";i:217;}}');
$not_found = 0;
foreach($places_streets_ids as $place_id => $item){
    $old_id     = $item['old_id'];
    $street_id  = $item['street_id'];

    $sth = $dbh->prepare("SELECT * FROM {$old_table} WHERE `id` = '$old_id'");
    $sth->execute();
    $old_row = $sth->fetch(PDO::FETCH_ASSOC);
    if($old_row['no']){
        $address = Doctrine_Core::getTable("Address")->findOneByStreetIdAndNo($street_id, $old_row['no'], Doctrine_Core::HYDRATE_ARRAY);
       if($address){
           $address_id = $address['id'];
           $sql = "UPDATE `places` SET `address_id` = {$address_id} WHERE `id` = ".$place_id.";";
           pr($sql);
        }else{
           $not_found++;
           //echo $old_row['name']." (".$old_row['no'].") <br/>";
           }
    }else{
        //echo 'no not found <br/>';
       // echo $old_row['name']."<br/>";
        $not_found++;
        }
    }
    
pr($not_found);